<div class="min-h-screen bg-gray-50 pt-20" dir="rtl">
  <!-- Header -->
  <div class="bg-white shadow-sm border-b border-gray-200 p-6">
    <div class="flex items-center justify-between max-w-7xl mx-auto">
      <div>
        <h1 class="text-3xl font-bold text-gray-900">إدارة الخدمات</h1>
        <p class="text-gray-600 mt-2">أضف وعدّل وحذف الخدمات</p>
      </div>
      <button (click)="openAddModal()" class="px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition font-bold">
        + إضافة خدمة
      </button>
    </div>
  </div>

  <!-- Content -->
  <div class="max-w-7xl mx-auto p-6">
    <div class="bg-white rounded-lg shadow-sm overflow-hidden">
      <div class="overflow-x-auto">
        <table class="w-full">
          <thead class="bg-gray-50 border-b border-gray-200">
            <tr>
              <th class="px-6 py-4 text-right text-sm font-semibold text-gray-900">اسم الخدمة</th>
              <th class="px-6 py-4 text-right text-sm font-semibold text-gray-900">الفئة</th>
              <th class="px-6 py-4 text-right text-sm font-semibold text-gray-900">السعر</th>
              <th class="px-6 py-4 text-right text-sm font-semibold text-gray-900">الحالة</th>
              <th class="px-6 py-4 text-right text-sm font-semibold text-gray-900">الإجراءات</th>
            </tr>
          </thead>
          <tbody>
            @for (service of services; track service.id) {
              <tr class="border-b border-gray-200 hover:bg-gray-50 transition">
                <td class="px-6 py-4 text-sm font-medium text-gray-900">{{ service.name }}</td>
                <td class="px-6 py-4 text-sm text-gray-600">{{ service.category }}</td>
                <td class="px-6 py-4 text-sm font-medium text-gray-900">{{ service.price }} ر.س</td>
                <td class="px-6 py-4 text-sm">
                  <app-badge [text]="service.status === 'active' ? 'نشطة' : 'معطلة'" [type]="service.status === 'active' ? 'success' : 'error'"></app-badge>
                </td>
                <td class="px-6 py-4 text-sm">
                  <button (click)="openEditModal(service)" class="px-3 py-1 text-teal-600 hover:bg-teal-50 rounded-lg transition font-medium">
                    تعديل
                  </button>
                  <button (click)="deleteService(service.id)" class="px-3 py-1 text-red-600 hover:bg-red-50 rounded-lg transition font-medium">
                    حذف
                  </button>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Add/Edit Modal -->
  <app-modal [isOpen]="showModal" [title]="isEditing ? 'تعديل الخدمة' : 'إضافة خدمة جديدة'" confirmLabel="حفظ" cancelLabel="إلغاء" (onConfirm)="onSaveService()" (onClose)="closeModal()">
    <div class="space-y-4">
      <div>
        <label class="block text-sm font-medium text-gray-900 mb-2">اسم الخدمة</label>
        <input [(ngModel)]="formData.name" type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none" />
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-900 mb-2">الوصف</label>
        <textarea [(ngModel)]="formData.description" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none resize-none"></textarea>
      </div>

      <div class="grid grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-900 mb-2">السعر</label>
          <input [(ngModel)]="formData.price" type="number" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none" />
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-900 mb-2">الفئة</label>
          <input [(ngModel)]="formData.category" type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none" />
        </div>
      </div>
    </div>
  </app-modal>
</div>
