<div class="min-h-screen bg-gray-50 pt-20" dir="rtl">
  <!-- Header -->
  <div class="bg-white shadow-sm border-b border-gray-200 p-6">
    <div class="max-w-7xl mx-auto">
      <h1 class="text-3xl font-bold text-gray-900">ุฅุฏุงุฑุฉ ุงูุทูุจุงุช</h1>
      <p class="text-gray-600 mt-2">ุนุฑุถ ูุฅุฏุงุฑุฉ ุฌููุน ุทูุจุงุช ุงูุนููุงุก</p>
    </div>
  </div>

  <!-- Content -->
  <div class="max-w-7xl mx-auto p-6">
    <!-- Filters -->
    <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
      <label class="block text-sm font-medium text-gray-900 mb-2">ููุชุฑุฉ ุญุณุจ ุงูุญุงูุฉ</label>
      <select [(ngModel)]="statusFilter" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none">
        <option value="all">ุงููู</option>
        <option value="pending">ููุฏ ุงูุงูุชุธุงุฑ</option>
        <option value="processing">ููุฏ ุงููุนุงูุฌุฉ</option>
        <option value="completed">ููุชููุฉ</option>
        <option value="cancelled">ููุบุงุฉ</option>
      </select>
    </div>

    <!-- Orders Table -->
    <div class="bg-white rounded-lg shadow-sm overflow-hidden">
      <div class="overflow-x-auto">
        <table class="w-full">
          <thead class="bg-gray-50 border-b border-gray-200">
            <tr>
              <th class="px-6 py-4 text-right text-sm font-semibold text-gray-900">ุฑูู ุงูุทูุจ</th>
              <th class="px-6 py-4 text-right text-sm font-semibold text-gray-900">ุงุณู ุงูุนููู</th>
              <th class="px-6 py-4 text-right text-sm font-semibold text-gray-900">ุงูุฎุฏูุฉ</th>
              <th class="px-6 py-4 text-right text-sm font-semibold text-gray-900">ุงููุจูุบ</th>
              <th class="px-6 py-4 text-right text-sm font-semibold text-gray-900">ุงูุญุงูุฉ</th>
              <th class="px-6 py-4 text-right text-sm font-semibold text-gray-900">ุงูุชุงุฑูุฎ</th>
              <th class="px-6 py-4 text-right text-sm font-semibold text-gray-900">ุงูุฅุฌุฑุงุกุงุช</th>
            </tr>
          </thead>
          <tbody>
            @if (filteredOrders.length === 0) {
              <tr>
                <td [attr.colspan]="7" class="px-6 py-8">
                  <app-empty-state icon="๐ฆ" title="ูุง ุชูุฌุฏ ุทูุจุงุช" message="ูู ูุชู ุงูุนุซูุฑ ุนูู ุทูุจุงุช ุจูุฐู ุงููุนุงููุฑ"></app-empty-state>
                </td>
              </tr>
            }

            @for (order of filteredOrders; track order.id) {
              <tr class="border-b border-gray-200 hover:bg-gray-50 transition">
                <td class="px-6 py-4 text-sm font-medium text-teal-600">{{ order.id }}</td>
                <td class="px-6 py-4 text-sm text-gray-900">{{ order.clientName }}</td>
                <td class="px-6 py-4 text-sm text-gray-900">{{ order.serviceName }}</td>
                <td class="px-6 py-4 text-sm font-medium text-gray-900">{{ order.amount }} ุฑ.ุณ</td>
                <td class="px-6 py-4 text-sm">
                  <app-badge [text]="getStatusLabel(order.status)" [type]="getStatusBadgeType(order.status)"></app-badge>
                </td>
                <td class="px-6 py-4 text-sm text-gray-600">{{ order.createdAt }}</td>
                <td class="px-6 py-4 text-sm">
                  <button (click)="openDeliveryModal(order)" class="px-3 py-1 text-teal-600 hover:bg-teal-50 rounded-lg transition font-medium">
                    ุชุญุฏูุซ ุงูุญุงูุฉ
                  </button>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Update Status Modal -->
  <app-modal [isOpen]="showDeliveryModal" title="ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ" confirmLabel="ุชุญุฏูุซ" cancelLabel="ุฅูุบุงุก" (onConfirm)="updateOrderStatus(selectedOrder?.status || 'pending')" (onClose)="closeDeliveryModal()">
    @if (selectedOrder) {
      <div class="space-y-4">
        <div>
          <p class="text-sm text-gray-600 mb-2">ุฑูู ุงูุทูุจ</p>
          <p class="text-lg font-bold text-gray-900">{{ selectedOrder.id }}</p>
        </div>

        <div>
          <p class="text-sm text-gray-600 mb-2">ุนููู</p>
          <p class="text-lg font-bold text-gray-900">{{ selectedOrder.clientName }}</p>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-900 mb-2">ุงูุญุงูุฉ ุงูุฌุฏูุฏุฉ</label>
          <select [(ngModel)]="selectedOrder.status" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none">
            <option value="pending">ููุฏ ุงูุงูุชุธุงุฑ</option>
            <option value="processing">ููุฏ ุงููุนุงูุฌุฉ</option>
            <option value="completed">ููุชููุฉ</option>
            <option value="cancelled">ููุบุงุฉ</option>
          </select>
        </div>
      </div>
    }
  </app-modal>
</div>
